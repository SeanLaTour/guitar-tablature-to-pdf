(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var i=t.g.document;if(!e&&i&&(i.currentScript&&"SCRIPT"===i.currentScript.tagName.toUpperCase()&&(e=i.currentScript.src),!e)){var n=i.getElementsByTagName("script");if(n.length)for(var s=n.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=n[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=t.p+"1790c12b31204f265e09.svg";var i=function(t,e,i,n){return new(i||(i=Promise))((function(s,a){function r(t){try{c(n.next(t))}catch(t){a(t)}}function o(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,o)}c((n=n.apply(t,e||[])).next())}))};const n="https://guitar-tablature-to-pdf-147ddb720da0.herokuapp.com/";(new class{constructor(){this.init=()=>{const t=document.querySelector("body");t.style.background="url("+e+")",t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="center",t.style.height="100vh",this.getUserAccount(),this.createNewTab()},this.addDeleteButtonListeners=()=>{const t=document.getElementsByClassName("delete-icon");for(let e=0;e<t.length;e++){const i=t[e];i.addEventListener("click",(t=>{this.deleteTab(i)}))}},this.displayTabsList=()=>{const t=document.getElementById("tab-list-container");document.getElementById("loading-icon").style.display="none",this.tabs.forEach((e=>{const i=document.createElement("li");i.id="tab-title-"+e.tabTitle,i.className="list-item",i.innerHTML='<i style="position: absolute; height: 1rem; width: 1rem; left: 1rem;" class="fa-solid fa-guitar"></i><p>'+e.tabTitle+'</p><i id="'+e.tabTitle+'-icon" style="position: absolute; height: 1rem; width: 1rem; right: 1rem;" class="delete-icon fas fa-trash-can"></i>',i.children[1].onclick=()=>{this.openCreatePage(e.tabTitle)},t.append(i)}))},this.checkIfTabExists=t=>{this.user.tabs.length>1&&this.user.tabs.forEach((t=>{t.tabTitle}))},this.createNewTab=()=>{document.getElementById("create-tab-button").addEventListener("click",(()=>{const t=prompt("Enter Title","");t&&(this.checkIfTabExists(t),fetch(n+"saveTab",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.user.username,tabData:{highEString:"-----",bString:"-----",gString:"-----",dString:"-----",aString:"-----",eString:"-----"},title:t})}),window.location.href="create.html?username="+this.user.username+"&title="+t)}))},this.openCreatePage=t=>{window.location.href="/create.html?username="+this.user.username+"&title="+t},this.highlightTutorial=()=>{const t=document.getElementById("tab-title-Tutorial");t&&setTimeout((()=>{t.style.backgroundColor="#23FE69",setTimeout((()=>{t.style.backgroundColor="rgba(43, 43, 43, 0.2)"}),2e3)}),1500)},this.getUserAccount=()=>i(this,void 0,void 0,(function*(){const t=window.location.search,e=new URLSearchParams(t).get("username"),i=yield fetch(n+"getUserAccount?username="+e),s=yield i.json();document.getElementById("username-label").innerHTML=s.username+"'s Tabs",this.user=s,this.tabs=s.tabs,this.displayTabsList(),this.highlightTutorial(),this.addDeleteButtonListeners()})),this.deleteTab=t=>i(this,void 0,void 0,(function*(){const e=t.id.split("-")[0];console.log("tabtitle",e),(yield fetch(n+"deleteTab",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.user.username,title:e})}))&&(document.getElementById("tab-title-"+e).style.display="none")})),this.user={username:"",tabs:[]},this.tabs=[]}}).init()})();