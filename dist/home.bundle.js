(()=>{"use strict";const t="https://guitar-tablature-to-pdf-147ddb720da0.herokuapp.com/";(new class{constructor(){this.init=()=>{this.getUserAccount(),this.createNewTab()},this.displayTabsList=()=>{const t=document.getElementById("tab-list-container");document.getElementById("loading-icon").style.display="none",this.tabs.forEach((e=>{const i=document.createElement("li");i.id="tab-title-"+e.tabTitle,i.className="list-item",i.innerHTML='<i style="color: black; height: 1rem; width: 1rem; margin-right: 1rem;" class="fa-solid fa-guitar"></i>'+e.tabTitle,i.onclick=()=>{this.openCreatePage(e.tabTitle)},t.append(i)}))},this.checkIfTabExists=t=>{this.user.tabs.length>1&&this.user.tabs.forEach((t=>{console.log(t),t.tabTitle}))},this.createNewTab=()=>{document.getElementById("create-tab-button").addEventListener("click",(()=>{const e=prompt("Enter Title","");e&&(this.checkIfTabExists(e),fetch(t+"saveTab",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.user.username,tabData:{highEString:"-----",bString:"-----",gString:"-----",dString:"-----",aString:"-----",eString:"-----"},title:e})}),window.location.href="create.html?username="+this.user.username+"&title="+e)}))},this.openCreatePage=t=>{window.location.href="/create.html?username="+this.user.username+"&title="+t},this.getUserAccount=()=>{return e=this,i=void 0,n=function*(){const e=window.location.search,i=new URLSearchParams(e).get("username"),s=yield fetch(t+"getUserAccount?username="+i),n=yield s.json();document.getElementById("username-label").innerHTML=n.username+"<i style='margin-right: 0px;' class='fas fa-user'></i>",this.user=n,this.tabs=n.tabs,this.displayTabsList()},new((s=void 0)||(s=Promise))((function(t,a){function r(t){try{o(n.next(t))}catch(t){a(t)}}function c(t){try{o(n.throw(t))}catch(t){a(t)}}function o(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s((function(t){t(i)}))).then(r,c)}o((n=n.apply(e,i||[])).next())}));var e,i,s,n},this.user={username:"",tabs:[]},this.tabs=[]}}).init()})();