(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&"SCRIPT"===s.currentScript.tagName.toUpperCase()&&(t=s.currentScript.src),!t)){var i=s.getElementsByTagName("script");if(i.length)for(var a=i.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=i[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"7a47064df6fad473253a.svg",s="https://guitar-tablature-to-pdf-147ddb720da0.herokuapp.com/",i=new class{constructor(){this.setLogo=()=>{const e=document.getElementById("logo");e&&(e.src=t)},this.listenForValidPassword=()=>{const e=document.getElementById("create-password-input"),t=document.getElementById("failed-password-error"),s=document.getElementById("failed-password-error-label");e&&e.addEventListener("keyup",(e=>{const i=e.target.value;t.style.display="flex",s.style.display="flex";const a=document.getElementById("special-character-icon"),n=document.getElementById("capital-letter-icon"),l=document.getElementById("number-icon"),r=document.getElementById("over-8-icon");/[^a-zA-Z0-9]/.test(i)?(a.style.display="flex",this.validPasswordCheckSpecial=!0):(a.style.display="none",this.validPasswordCheckSpecial=!1),/[A-Z]/.test(i)?(n.style.display="flex",this.validPasswordCheckCapital=!0):(n.style.display="none",this.validPasswordCheckCapital=!1),/[0-9]/.test(i)?(l.style.display="flex",this.validPasswordCheckNumber=!0):(l.style.display="none",this.validPasswordCheckNumber=!1),i.length>=8?(r.style.display="flex",this.validPasswordCheckLength=!0):(r.style.display="none",this.validPasswordCheckLength=!1),0===i.length?s.style.display="none":s.style.display="flex"}))},this.init=()=>{const e=document.getElementById("create-user-button"),t=document.getElementById("create-username-input"),i=document.getElementById("create-password-input"),a=document.getElementById("create-email-input"),n=document.getElementById("failed-username-error-label");t&&(t.addEventListener("keyup",(()=>{n.style.display="none"})),null==e||e.addEventListener("click",(()=>{return e=this,r=function*(){const e=yield fetch(s+"getUserAccount?username="+t.value);if("No Account found."!==(yield e.json()))return n.style.display="flex",t.classList.add("highlight-error"),void setTimeout((()=>{t.classList.remove("highlight-error")}),2e3);if(this.validPasswordCheckCapital&&this.validPasswordCheckLength&&this.validPasswordCheckNumber&&this.validPasswordCheckSpecial){const e=yield fetch(s+"createAccount",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.value,password:i.value,email:a.value})});!0===(yield e.json())&&(window.location.href="home.html?username="+t.value)}else i.classList.add("highlight-error"),setTimeout((()=>{n.style.display="none",i.classList.remove("highlight-error")}),2e3)},new((l=void 0)||(l=Promise))((function(t,s){function i(e){try{n(r.next(e))}catch(e){s(e)}}function a(e){try{n(r.throw(e))}catch(e){s(e)}}function n(e){var s;e.done?t(e.value):(s=e.value,s instanceof l?s:new l((function(e){e(s)}))).then(i,a)}n((r=r.apply(e,[])).next())}));var e,l,r})))},this.setLogo(),this.validPasswordCheckSpecial=!1,this.validPasswordCheckCapital=!1,this.validPasswordCheckNumber=!1,this.validPasswordCheckLength=!1}};i.init(),i.listenForValidPassword()})();